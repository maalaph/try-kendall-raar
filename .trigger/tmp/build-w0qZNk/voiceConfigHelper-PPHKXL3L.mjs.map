{
  "version": 3,
  "sources": ["../../../lib/voiceLibrary.ts", "../../../lib/voiceConfigHelper.ts"],
  "sourcesContent": ["/**\n * Curated Voice Library System\n * Pre-built, high-quality voices mapped to user descriptions\n * Replaces on-the-fly generation with curated library + smart matching\n */\n\nexport interface CuratedVoice {\n  id: string; // Unique identifier (e.g., \"KM-03\" or \"vapi-elliot\")\n  name: string; // Display name\n  elevenLabsVoiceId?: string; // Voice ID from ElevenLabs (if source is 'elevenlabs')\n  vapiVoiceId?: string; // VAPI voice ID (if source is 'vapi')\n  source: 'elevenlabs' | 'vapi'; // Voice source\n  tags: string[]; // Array of tags (e.g., [\"deep\", \"raspy\", \"calm\"]) - VOICE characteristics only\n  accent: string; // Accent type (e.g., \"American\", \"Indian-American\", \"British\")\n  gender: 'male' | 'female' | 'neutral';\n  ageGroup: 'young' | 'middle-aged' | 'older';\n  tone: string[]; // Array of tone descriptors (e.g., [\"deep\", \"raspy\"]) - VOICE characteristics only, NOT personality\n  description: string; // Human-readable description\n  useCases: string[]; // Array of use cases (e.g., [\"radio host\", \"podcast\", \"narration\"])\n  languages: string[]; // Supported languages (all voices support all languages, but listed for reference)\n  previewAudioUrl?: string; // Optional preview audio URL\n  quality: 'high' | 'standard'; // Quality rating: 'high' for ElevenLabs, 'standard' for VAPI\n}\n\n/**\n * Curated Voice Library\n * This is the core library of pre-built, high-quality voices\n * Voices are mapped from ElevenLabs library and additional curated voices\n */\nexport const curatedVoiceLibrary: CuratedVoice[] = [\n  // These will be populated by fetching from ElevenLabs API\n  // For now, this is a placeholder structure\n];\n\n/**\n * ElevenLabs voice IDs confirmed to fail when routed through Vapi.\n * We exclude them from the curated library so users never see unusable voices.\n */\nconst UNSUPPORTED_ELEVENLABS_VOICE_IDS = new Set<string>([\n  '0FLxgjNYHJnHnNQ3nwk8',\n  '0mDYz2rpzUksQMbNcdCc',\n  '1a0nAYA3FcNQcMMfbddY',\n  '8WRfTpaUoqZSfTerOXzI',\n  'DQLhorDHb2d4HkZj4kFd',\n  'GoGUcAZovo4MFeLxJdZd',\n  'GsfuR3Wo2BACoxELWyEF',\n  'Gsndh0O5AnuI2Hj3YUlA',\n  'KEVRa7mtDwmBo6pi4ItL',\n  'KleDBQ7etYG6NMjnQ9Jw',\n  'L5zW3PqYZoWAeS4J1qMV',\n  'LeKjR2H906hH45YTS8O5',\n  'M5t0724ORuAGCh3p3DUR',\n  'MKlLqCItoCkvdhrxgtLv',\n  'QF9HJC7XWnue5c9W3LkY',\n  'RO2BvjCY3XHTRsIYByXn',\n  'Sq93GQT4X1lKDXsQcixO',\n  'U0W3edavfdI8ibPeeteQ',\n  'Wz5VyMwarjxJoceKovDZ',\n  'XagEPz76kWQQ0RWKvQAf',\n  'XjdmlV0OFXfXE6Mg2Sb7',\n  'XsmrVB66q3D4TaXVaWNF',\n  'cgLpYGyXZhkyalKZ0xeZ',\n  'dOZwtV72qwiKnZGSlLsC',\n  'dOdGri2hgsKdUEaU09Ct',\n  'eZm9vdjYgL9PZKtf7XMM',\n  'ee2pDOfqzj2pBerZvUCH',\n  'efGTHf4ukBiG4n8lptfp',\n  'm3yAHyFEFKtbCIM5n7GF',\n  'mEHuKdn0uRQSMynXjRNO',\n  'nTMUXLFSfbWmdKKy7nDC',\n  'nlyULslzTRhqlyv46oPj',\n  'nzeAacJi50IvxcyDnMXa',\n  'ocZQ262SsZb9RIxcQBOj',\n  'u0REnIJvUgcGQYW2Ux8K',\n  'wFOtYWBAKv6z33WjceQa',\n  'wNl2YBRc8v5uIcq6gOxd',\n  'xYWUvKNK6zWCgsdAK7Wi',\n  'zYcjlYFOd3taleS0gkk3',\n  'zZeq6FndupLBP33ngh9e',\n  'zhqwEJnIn9nJv0L8nUkS',\n  'ztnpYzQJyWffPj1VC5Uw',\n]);\n\n/**\n * Curate a diverse subset of voices ensuring variety in gender, accent, age, and tone\n * @param voices Array of voices to curate from\n * @param maxVoices Maximum number of voices to return (default: 500)\n * @returns Curated array with diversity\n */\nfunction curateDiverseVoices(voices: any[], maxVoices: number = 500): any[] {\n  // First, deduplicate voices by voice_id to ensure no duplicates\n  const uniqueVoicesMap = new Map<string, any>();\n  for (const voice of voices) {\n    const voiceId = voice.voice_id || voice.id || voice.voiceId;\n    if (voiceId) {\n      // Normalize to string and use as key\n      const normalizedId = String(voiceId).trim();\n      if (normalizedId && !uniqueVoicesMap.has(normalizedId)) {\n        uniqueVoicesMap.set(normalizedId, voice);\n      }\n    }\n  }\n  const deduplicatedVoices = Array.from(uniqueVoicesMap.values());\n  \n  if (deduplicatedVoices.length !== voices.length) {\n    console.log(`[VOICE CURATION] Removed ${voices.length - deduplicatedVoices.length} duplicate voices`);\n  }\n  \n  if (deduplicatedVoices.length <= maxVoices) {\n    return deduplicatedVoices;\n  }\n\n  console.log(`[VOICE CURATION] Curating ${maxVoices} diverse voices from ${deduplicatedVoices.length} unique voices...`);\n\n  // Group voices by key characteristics for diversity\n  const byGender: Record<string, any[]> = { male: [], female: [], neutral: [] };\n  const byAccent: Record<string, any[]> = {};\n  const byAge: Record<string, any[]> = { young: [], 'middle-aged': [], older: [] };\n  \n  // Categorize voices\n  for (const voice of deduplicatedVoices) {\n    const gender = (voice.labels?.gender || 'neutral').toLowerCase();\n    const accent = voice.labels?.accent || 'American';\n    const age = voice.labels?.age || '';\n    \n    // Gender\n    if (gender === 'male') byGender.male.push(voice);\n    else if (gender === 'female') byGender.female.push(voice);\n    else byGender.neutral.push(voice);\n    \n    // Accent\n    if (!byAccent[accent]) byAccent[accent] = [];\n    byAccent[accent].push(voice);\n    \n    // Age\n    if (age.includes('young')) byAge.young.push(voice);\n    else if (age.includes('old') || age.includes('elder')) byAge.older.push(voice);\n    else byAge['middle-aged'].push(voice);\n  }\n\n  const curated: any[] = [];\n  const used = new Set<string>();\n  \n  // Strategy: Ensure representation from each category\n  const targetPerGender = Math.floor(maxVoices / 3);\n  const targetPerAge = Math.floor(maxVoices / 3);\n  \n  // First pass: Ensure gender diversity (roughly equal distribution)\n  for (const gender of ['male', 'female', 'neutral'] as const) {\n    const available = byGender[gender].filter(v => !used.has(v.voice_id));\n    const take = Math.min(targetPerGender, available.length);\n    // Shuffle and take diverse selection\n    const shuffled = available.sort(() => Math.random() - 0.5);\n    const selected = shuffled.slice(0, take);\n    selected.forEach(v => {\n      curated.push(v);\n      used.add(v.voice_id);\n    });\n  }\n  \n  // Second pass: Ensure age diversity\n  for (const age of ['young', 'middle-aged', 'older'] as const) {\n    const available = byAge[age].filter(v => !used.has(v.voice_id));\n    const take = Math.min(targetPerAge, available.length);\n    const shuffled = available.sort(() => Math.random() - 0.5);\n    const selected = shuffled.slice(0, take);\n    selected.forEach(v => {\n      if (!used.has(v.voice_id)) {\n        curated.push(v);\n        used.add(v.voice_id);\n      }\n    });\n  }\n  \n  // Third pass: Ensure accent diversity (at least 2-3 per accent)\n  const accents = Object.keys(byAccent).sort();\n  const remainingSlots = maxVoices - curated.length;\n  const perAccent = Math.max(2, Math.floor(remainingSlots / Math.max(1, accents.length)));\n  \n  for (const accent of accents) {\n    const available = byAccent[accent].filter(v => !used.has(v.voice_id));\n    if (available.length > 0 && curated.length < maxVoices) {\n      const take = Math.min(perAccent, available.length, maxVoices - curated.length);\n      const shuffled = available.sort(() => Math.random() - 0.5);\n      const selected = shuffled.slice(0, take);\n      selected.forEach(v => {\n        if (!used.has(v.voice_id) && curated.length < maxVoices) {\n          curated.push(v);\n          used.add(v.voice_id);\n        }\n      });\n    }\n  }\n  \n  // Fill remaining slots with random diverse voices\n  const remaining = maxVoices - curated.length;\n  if (remaining > 0) {\n    const available = deduplicatedVoices.filter(v => !used.has(v.voice_id));\n    const shuffled = available.sort(() => Math.random() - 0.5);\n    const random = shuffled.slice(0, remaining);\n    random.forEach(v => {\n      if (!used.has(v.voice_id)) {\n        curated.push(v);\n        used.add(v.voice_id);\n      }\n    });\n  }\n  \n  // Final deduplication and shuffle for better distribution\n  const finalMap = new Map<string, any>();\n  for (const voice of curated) {\n    const voiceId = voice.voice_id || voice.id || voice.voiceId;\n    if (voiceId) {\n      // Normalize to string and use as key\n      const normalizedId = String(voiceId).trim();\n      if (normalizedId && !finalMap.has(normalizedId)) {\n        finalMap.set(normalizedId, voice);\n      }\n    }\n  }\n  const final = Array.from(finalMap.values())\n    .sort(() => Math.random() - 0.5)\n    .slice(0, maxVoices);\n  \n  if (final.length !== curated.length) {\n    console.log(`[VOICE CURATION] Removed ${curated.length - final.length} duplicate voices from final set`);\n  }\n  \n  // Log diversity stats\n  const finalByGender: Record<string, number> = { male: 0, female: 0, neutral: 0 };\n  const finalByAccent: Record<string, number> = {};\n  const finalByAge: Record<string, number> = { young: 0, 'middle-aged': 0, older: 0 };\n  \n  for (const voice of final) {\n    const gender = (voice.labels?.gender || 'neutral').toLowerCase();\n    const accent = voice.labels?.accent || 'American';\n    const age = voice.labels?.age || '';\n    \n    if (gender === 'male') finalByGender.male++;\n    else if (gender === 'female') finalByGender.female++;\n    else finalByGender.neutral++;\n    \n    finalByAccent[accent] = (finalByAccent[accent] || 0) + 1;\n    \n    if (age.includes('young')) finalByAge.young++;\n    else if (age.includes('old') || age.includes('elder')) finalByAge.older++;\n    else finalByAge['middle-aged']++;\n  }\n  \n  console.log(`[VOICE CURATION] Curated ${final.length} voices with diversity:`);\n  console.log(`[VOICE CURATION] - Gender: ${finalByGender.male} male, ${finalByGender.female} female, ${finalByGender.neutral} neutral`);\n  console.log(`[VOICE CURATION] - Age: ${finalByAge.young} young, ${finalByAge['middle-aged']} middle-aged, ${finalByAge.older} older`);\n  console.log(`[VOICE CURATION] - Accents: ${Object.keys(finalByAccent).length} different accents`);\n  \n  return final;\n}\n\n/**\n * Initialize the curated voice library by fetching ElevenLabs voices and adding VAPI voices\n * This should be called on server startup or when needed\n */\nexport async function initializeVoiceLibrary(): Promise<CuratedVoice[]> {\n  // Import VAPI voices\n  const { getAllVAPIVoices } = await import('./vapiVoices');\n  const vapiVoices = getAllVAPIVoices();\n  \n  // Convert VAPI voices to CuratedVoice format\n  const vapiCuratedVoices: CuratedVoice[] = vapiVoices.map(vapiVoice => ({\n    id: vapiVoice.id,\n    name: vapiVoice.name,\n    vapiVoiceId: vapiVoice.vapiVoiceId,\n    source: 'vapi',\n    tags: vapiVoice.tags,\n    accent: vapiVoice.accent,\n    gender: vapiVoice.gender,\n    ageGroup: vapiVoice.ageGroup,\n    tone: vapiVoice.tags, // Use tags as tone for VAPI voices\n    description: vapiVoice.description,\n    useCases: ['general'],\n    languages: ['en', 'es', 'ar', 'fr', 'de', 'it', 'pt', 'zh', 'ja', 'ko', 'hi', 'nl', 'pl', 'ru', 'tr'],\n    quality: 'standard', // VAPI voices are standard quality\n  }));\n\n  // Load VAPI-verified ElevenLabs voices from JSON file\n  let verifiedElevenLabsVoiceIds: Set<string> = new Set();\n  try {\n    const { getAllVAPIElevenLabsVoices } = await import('./vapiElevenLabsVoices');\n    const verifiedVoices = getAllVAPIElevenLabsVoices();\n    verifiedElevenLabsVoiceIds = new Set(verifiedVoices.map(v => v.voiceId));\n    console.log(`[VOICE LIBRARY] Loaded ${verifiedVoices.length} VAPI-verified ElevenLabs voices from vapiElevenLabsVoices.json`);\n  } catch (error) {\n    console.warn('[VOICE LIBRARY] Could not load VAPI-verified ElevenLabs voices. Run \"npm run fetch-vapi-voices\" to generate the file.');\n    console.warn('[VOICE LIBRARY] Will include all ElevenLabs voices (not filtered to VAPI-verified only)');\n  }\n\n  const apiKey = process.env.ELEVENLABS_API_KEY;\n  \n  if (!apiKey) {\n    console.warn('[VOICE LIBRARY] ELEVENLABS_API_KEY not found, using empty library');\n    return [];\n  }\n\n  try {\n    // Fetch voices from ElevenLabs with pagination\n    // Continue fetching until we have enough verified voices OR checked enough pages\n    let allElevenLabsVoices: any[] = [];\n    let verifiedVoicesFound: any[] = [];\n    let page = 1;\n    let hasMore = true;\n    const pageSize = 100;\n    const MIN_VERIFIED_VOICES = 1500; // Minimum to curate 500 diverse voices\n    const MAX_PAGES = 100; // Check up to 100 pages to find verified voices\n\n    console.log('[VOICE LIBRARY] Fetching voices from ElevenLabs (will continue until we have enough verified voices)...');\n\n    while (hasMore && page <= MAX_PAGES) {\n      const response = await fetch(`https://api.elevenlabs.io/v1/voices?page=${page}&page_size=${pageSize}`, {\n        headers: { 'xi-api-key': apiKey },\n      });\n\n      if (!response.ok) {\n        if (page === 1) {\n          console.error('[VOICE LIBRARY] Failed to fetch voices from ElevenLabs');\n          return [];\n        } else {\n          // If we've already fetched some pages, stop here\n          console.log(`[VOICE LIBRARY] Reached end of pagination at page ${page}`);\n          break;\n        }\n      }\n\n      const data = await response.json();\n      const voices = data.voices || [];\n      \n      if (voices.length === 0) {\n        hasMore = false;\n      } else {\n        allElevenLabsVoices.push(...voices);\n        \n        // Filter to verified voices as we go\n        if (verifiedElevenLabsVoiceIds.size > 0) {\n          const verifiedInPage = voices.filter((voice: any) => verifiedElevenLabsVoiceIds.has(voice.voice_id));\n          verifiedVoicesFound.push(...verifiedInPage);\n        } else {\n          // If no verification list, treat all as verified\n          verifiedVoicesFound.push(...voices);\n        }\n        \n        console.log(`[VOICE LIBRARY] Page ${page}: ${voices.length} voices (${verifiedVoicesFound.length} verified so far)`);\n        \n        // Stop if we have enough verified voices AND we've checked at least 10 pages\n        if (verifiedVoicesFound.length >= MIN_VERIFIED_VOICES && page >= 10) {\n          console.log(`[VOICE LIBRARY] Reached target of ${MIN_VERIFIED_VOICES} verified voices after ${page} pages. Stopping fetch.`);\n          hasMore = false;\n          break;\n        }\n        \n        // Check if there's more\n        if (data.has_more === false || voices.length < pageSize) {\n          hasMore = false;\n        } else {\n          page++;\n        }\n      }\n    }\n\n    console.log(`[VOICE LIBRARY] Total voices fetched from ElevenLabs: ${allElevenLabsVoices.length}`);\n    console.log(`[VOICE LIBRARY] Total verified voices found: ${verifiedVoicesFound.length}`);\n\n    // Use the verified voices we collected during fetching\n    // If we have a verification list, use only verified voices; otherwise use all fetched\n    const voicesToProcess = verifiedElevenLabsVoiceIds.size > 0\n      ? verifiedVoicesFound\n      : allElevenLabsVoices;\n\n    if (verifiedElevenLabsVoiceIds.size > 0) {\n      console.log(`[VOICE LIBRARY] Using ${voicesToProcess.length} VAPI-verified ElevenLabs voices (fetched ${allElevenLabsVoices.length} total)`);\n    } else {\n      console.log(`[VOICE LIBRARY] Using ${voicesToProcess.length} voices (no verification list - all voices)`);\n    }\n\n    // CURATE: Select diverse subset of 200-500 voices for performance\n    // Only use VAPI-verified voices, ensure variety, NO DUPLICATES\n    const MAX_VOICES = 500;\n    const curatedVoices = curateDiverseVoices(voicesToProcess, MAX_VOICES);\n    console.log(`[VOICE LIBRARY] Curated ${curatedVoices.length} diverse voices from ${voicesToProcess.length} verified voices`);\n\n    const curatedVoicesFiltered = curatedVoices.filter((voice: any) => {\n      const voiceId = voice.voice_id || voice.id || voice.voiceId;\n      return voiceId ? !UNSUPPORTED_ELEVENLABS_VOICE_IDS.has(String(voiceId).trim()) : true;\n    });\n\n    if (curatedVoicesFiltered.length !== curatedVoices.length) {\n      console.log(\n        `[VOICE LIBRARY] Removed ${curatedVoices.length - curatedVoicesFiltered.length} unsupported ElevenLabs voices (Vapi rejects these IDs)`\n      );\n    }\n\n    // Map curated voices to library format\n    const mappedVoices: CuratedVoice[] = curatedVoicesFiltered.map((voice: any) => {\n      const gender = (voice.labels?.gender || '').toLowerCase();\n      const accent = voice.labels?.accent || '';\n      const age = voice.labels?.age || '';\n      \n      // Extract age group from labels first, then from description if not in labels\n      let ageGroup: 'young' | 'middle-aged' | 'older' = 'middle-aged';\n      if (age.includes('young')) ageGroup = 'young';\n      else if (age.includes('old') || age.includes('elder')) ageGroup = 'older';\n      \n      // If age not in labels, extract from description (prioritize description over name)\n      if (!age || age.trim() === '') {\n        const descLower = (voice.description || '').toLowerCase();\n        const nameLower = (voice.name || '').toLowerCase();\n        // Check description first (more reliable)\n        if (descLower.includes('gen z') || descLower.includes('genz') || descLower.includes('20s') || \n            descLower.includes(\"20's\") || descLower.includes('teen') || descLower.includes('teenager') ||\n            descLower.includes('youth') || descLower.includes('young') || descLower.includes('college') ||\n            descLower.includes('student')) {\n          ageGroup = 'young';\n        } else if (descLower.includes('millennial') || descLower.includes('gen y') || descLower.includes('30s') ||\n                   descLower.includes(\"30's\") || descLower.includes('40s') || descLower.includes(\"40's\") ||\n                   descLower.includes('middle-aged') || descLower.includes('middle age')) {\n          ageGroup = 'middle-aged';\n        } else if (descLower.includes('boomer') || descLower.includes('gen x') || descLower.includes('50s') ||\n                   descLower.includes(\"50's\") || descLower.includes('60s') || descLower.includes(\"60's\") ||\n                   descLower.includes('70s') || descLower.includes(\"70's\") || descLower.includes('older') ||\n                   descLower.includes('old') || descLower.includes('elder') || descLower.includes('senior') ||\n                   descLower.includes('aged') || descLower.includes('elderly') || descLower.includes('grandpa') ||\n                   descLower.includes('grandma')) {\n          ageGroup = 'older';\n        }\n        // Fallback to name if description doesn't have age info\n        else if (nameLower.includes('young') || nameLower.includes('teen') || nameLower.includes('youth')) {\n          ageGroup = 'young';\n        } else if (nameLower.includes('old') || nameLower.includes('elder') || nameLower.includes('senior') ||\n                   nameLower.includes('grandpa') || nameLower.includes('grandma')) {\n          ageGroup = 'older';\n        }\n      }\n      \n      // Extract tags from description and name\n      const nameLower = (voice.name || '').toLowerCase();\n      const descLower = (voice.description || '').toLowerCase();\n      const fullText = `${nameLower} ${descLower}`;\n      \n      const tags: string[] = [];\n      const tone: string[] = [];\n      const useCases: string[] = [];\n      \n      // Extract common tags - ENHANCED: Better extraction for voice characteristics\n      // Timbre characteristics (voice quality)\n      if (fullText.includes('deep') || fullText.includes('low-pitched') || fullText.includes('bass') || fullText.includes('baritone')) tags.push('deep');\n      if (fullText.includes('raspy') || fullText.includes('rough') || fullText.includes('gravelly') || fullText.includes('hoarse') || fullText.includes('husky') || fullText.includes('gritty')) tags.push('raspy');\n      if (fullText.includes('calm') || fullText.includes('relaxed') || fullText.includes('soothing') || fullText.includes('serene')) tags.push('calm');\n      if (fullText.includes('warm') || fullText.includes('mellow') || fullText.includes('rich')) tags.push('warm');\n      if (fullText.includes('smooth') || fullText.includes('clear') || fullText.includes('crisp') || fullText.includes('clean')) tags.push('smooth');\n      if (fullText.includes('bright') || fullText.includes('energetic') || fullText.includes('cheerful') || fullText.includes('lively')) tags.push('bright');\n      if (fullText.includes('smoker') || fullText.includes(\"smoker's\") || fullText.includes('smoking')) tags.push('smoker');\n      if (fullText.includes('soft') || fullText.includes('gentle')) tags.push('soft');\n      if (fullText.includes('powerful') || fullText.includes('strong') || fullText.includes('resonant')) tags.push('powerful');\n      \n      // Tone characteristics (personality/voice style) - ENHANCED extraction\n      // More comprehensive tone extraction for better matching\n      if (fullText.includes('professional') || fullText.includes('business') || fullText.includes('corporate') || fullText.includes('polished')) tone.push('professional');\n      if (fullText.includes('friendly') || fullText.includes('warm') || fullText.includes('welcoming') || fullText.includes('kind')) tone.push('friendly');\n      if (fullText.includes('confident') || fullText.includes('authoritative') || fullText.includes('assured') || fullText.includes('decisive')) tone.push('confident');\n      if (fullText.includes('energetic') || fullText.includes('lively') || fullText.includes('animated') || fullText.includes('vibrant') || fullText.includes('enthusiastic')) tone.push('energetic');\n      if (fullText.includes('calm') || fullText.includes('peaceful') || fullText.includes('serene') || fullText.includes('soothing') || fullText.includes('relaxed')) tone.push('calm');\n      if (fullText.includes('sassy') || fullText.includes('bold') || fullText.includes('feisty') || fullText.includes('spirited')) tone.push('sassy');\n      if (fullText.includes('witty') || fullText.includes('clever') || fullText.includes('humorous') || fullText.includes('sharp')) tone.push('witty');\n      if (fullText.includes('smooth') || fullText.includes('mellow')) tone.push('smooth');\n      if (fullText.includes('bright') || fullText.includes('cheerful')) tone.push('bright');\n      \n      // Extract LGBTQ+ characteristics\n      if (fullText.includes('gay') || fullText.includes('queer') || fullText.includes('lgbtq') || \n          fullText.includes('homosexual') || fullText.includes('lesbian')) {\n        tags.push('lgbtq');\n      }\n      \n      // Extract character types - Enhanced: Better extraction for musician, narrator, etc.\n      const characterPattern = /\\b(bodybuilder|meathead|detective|sherlock|spy|agent|hero|villain|wizard|warrior|knight|pirate|ninja|rapper|singer|artist|musician|jazz\\s+musician|narrator|announcer|host|podcaster|teacher|professor|doctor|nurse|lawyer|judge|attorney|soldier|military|veteran|coach|trainer|instructor)\\b/i;\n      const characterMatch = fullText.match(characterPattern);\n      if (characterMatch) {\n        let character = characterMatch[0].toLowerCase();\n        // Normalize \"jazz musician\" to \"musician\"\n        if (character.includes('jazz') && character.includes('musician')) {\n          character = 'musician';\n        }\n        tags.push(character);\n      }\n      \n      // Enhanced: Better use case extraction\n      if (fullText.includes('radio') || fullText.includes('host') || fullText.includes('broadcast')) {\n        tags.push('radio');\n        useCases.push('radio host');\n      }\n      if (fullText.includes('podcast') || fullText.includes('podcasting')) {\n        useCases.push('podcast');\n        if (!tags.includes('podcaster')) tags.push('podcaster');\n      }\n      if (fullText.includes('narration') || fullText.includes('narrator') || fullText.includes('audiobook')) {\n        useCases.push('narration');\n        if (!tags.includes('narrator')) tags.push('narrator');\n      }\n      if (fullText.includes('conversational') || fullText.includes('conversation')) {\n        useCases.push('conversational');\n      }\n      if (fullText.includes('music') || fullText.includes('musician') || fullText.includes('jazz')) {\n        if (!tags.includes('musician')) tags.push('musician');\n        useCases.push('music');\n      }\n      \n      // Use full description from ElevenLabs for better matching\n      // Combine name and description for comprehensive matching\n      const fullDescription = voice.description \n        ? `${voice.name} ${voice.description}`.trim()\n        : `${voice.name} - ${accent ? accent + ' ' : ''}${gender} voice`;\n      \n      return {\n        id: `KM-${voice.voice_id.substring(0, 6).toUpperCase()}`,\n        name: voice.name || 'Unknown Voice',\n        elevenLabsVoiceId: voice.voice_id,\n        source: 'elevenlabs',\n        tags: tags.length > 0 ? tags : ['general'],\n        accent: accent || 'American',\n        gender: gender === 'male' ? 'male' : gender === 'female' ? 'female' : 'neutral',\n        ageGroup,\n        tone: tone.length > 0 ? tone : ['neutral'],\n        description: fullDescription, // Use full description for comprehensive matching\n        useCases: useCases.length > 0 ? useCases : ['general'],\n        languages: ['en', 'es', 'ar', 'fr', 'de', 'it', 'pt', 'zh', 'ja', 'ko', 'hi', 'nl', 'pl', 'ru', 'tr'], // All languages supported\n        quality: 'high', // ElevenLabs voices are high quality\n      };\n    });\n\n    // Combine all voices before validation\n    const allVoices = [...mappedVoices, ...vapiCuratedVoices];\n    \n    // Deduplicate by voice ID before validation\n    const uniqueVoicesMap = new Map<string, CuratedVoice>();\n    for (const voice of allVoices) {\n      const voiceId = voice.elevenLabsVoiceId || voice.vapiVoiceId || voice.id;\n      if (voiceId && !uniqueVoicesMap.has(voiceId)) {\n        uniqueVoicesMap.set(voiceId, voice);\n      }\n    }\n    const deduplicatedVoices = Array.from(uniqueVoicesMap.values());\n    \n    if (deduplicatedVoices.length !== allVoices.length) {\n      console.log(`[VOICE LIBRARY] Removed ${allVoices.length - deduplicatedVoices.length} duplicate voices before validation`);\n    }\n    \n    // Validate voices against ElevenLabs to ensure they all exist\n    const { validVoices, removedVoices } = await validateVoicesAgainstElevenLabs(deduplicatedVoices);\n    \n    // Final deduplication after validation (in case validation creates duplicates)\n    const finalUniqueMap = new Map<string, CuratedVoice>();\n    for (const voice of validVoices) {\n      const voiceId = voice.elevenLabsVoiceId || voice.vapiVoiceId || voice.id;\n      if (voiceId && !finalUniqueMap.has(voiceId)) {\n        finalUniqueMap.set(voiceId, voice);\n      }\n    }\n    const finalUniqueVoices = Array.from(finalUniqueMap.values());\n    \n    if (finalUniqueVoices.length !== validVoices.length) {\n      console.log(`[VOICE LIBRARY] Removed ${validVoices.length - finalUniqueVoices.length} duplicate voices after validation`);\n    }\n    \n    // Store validated voices in library: ElevenLabs voices first (higher quality), then VAPI voices\n    curatedVoiceLibrary.length = 0;\n    curatedVoiceLibrary.push(...finalUniqueVoices);\n    \n    // Enhanced logging: Log voice count and quality distribution\n    const validElevenLabsVoices = validVoices.filter(v => v.source === 'elevenlabs');\n    const elevenLabsCount = validElevenLabsVoices.length;\n    const vapiCount = validVoices.filter(v => v.source === 'vapi').length;\n    const totalCount = curatedVoiceLibrary.length;\n    const voicesWithTone = validElevenLabsVoices.filter(v => v.tone && v.tone.length > 0 && v.tone[0] !== 'neutral').length;\n    \n    console.log(`[VOICE LIBRARY] Initialized with ${elevenLabsCount} ElevenLabs voices and ${vapiCount} VAPI voices (total: ${totalCount})`);\n    if (removedVoices.length > 0) {\n      console.warn(`[VOICE LIBRARY] Removed ${removedVoices.length} invalid voice(s) during initialization`);\n    }\n    console.log(`[VOICE LIBRARY] Quality distribution: ${elevenLabsCount} high-quality (ElevenLabs), ${vapiCount} standard (VAPI)`);\n    console.log(`[VOICE LIBRARY] Voices with personality/tone descriptors: ${voicesWithTone} out of ${elevenLabsCount} ElevenLabs voices`);\n    \n    // Verify all voices are loaded (should be ~140 ElevenLabs voices)\n    if (elevenLabsCount < 100) {\n      console.warn(`[VOICE LIBRARY] Warning: Only ${elevenLabsCount} ElevenLabs voices loaded. Expected ~140 voices.`);\n    } else {\n      console.log(`[VOICE LIBRARY] âœ“ Successfully loaded ${elevenLabsCount} validated ElevenLabs voices`);\n    }\n    \n    return curatedVoiceLibrary;\n  } catch (error) {\n    console.error('[VOICE LIBRARY] Error initializing library:', error);\n    return [];\n  }\n}\n\n/**\n * Validate voices against ElevenLabs API to ensure they still exist\n * Filters out any voices that have been deleted from ElevenLabs\n * Returns only valid voices and logs removed ones\n */\nexport async function validateVoicesAgainstElevenLabs(\n  voices: CuratedVoice[]\n): Promise<{ validVoices: CuratedVoice[]; removedVoices: string[] }> {\n  const apiKey = process.env.ELEVENLABS_API_KEY;\n  \n  if (!apiKey) {\n    console.warn('[VOICE VALIDATION] ELEVENLABS_API_KEY not found, skipping validation');\n    return { validVoices: voices, removedVoices: [] };\n  }\n\n  try {\n    // Fetch current voices from ElevenLabs API\n    const response = await fetch('https://api.elevenlabs.io/v1/voices', {\n      headers: { 'xi-api-key': apiKey },\n    });\n\n    if (!response.ok) {\n      console.warn('[VOICE VALIDATION] Failed to fetch voices from ElevenLabs, skipping validation');\n      return { validVoices: voices, removedVoices: [] };\n    }\n\n    const data = await response.json();\n    const elevenLabsVoices = data.voices || [];\n    \n    // Create Set of valid ElevenLabs voice IDs for fast lookup\n    const validVoiceIds = new Set<string>(\n      elevenLabsVoices.map((v: any) => v.voice_id)\n    );\n\n    // Separate ElevenLabs voices from VAPI voices\n    const elevenLabsVoicesToValidate = voices.filter(v => v.source === 'elevenlabs' && v.elevenLabsVoiceId);\n    const vapiVoices = voices.filter(v => v.source === 'vapi');\n    \n    // Validate ElevenLabs voices\n    const validElevenLabsVoices: CuratedVoice[] = [];\n    const removedVoices: string[] = [];\n    \n    for (const voice of elevenLabsVoicesToValidate) {\n      if (voice.elevenLabsVoiceId && validVoiceIds.has(voice.elevenLabsVoiceId)) {\n        validElevenLabsVoices.push(voice);\n      } else {\n        removedVoices.push(`${voice.name} (${voice.id})`);\n        console.warn(`[VOICE VALIDATION] Removed voice: ${voice.name} (ID: ${voice.elevenLabsVoiceId || 'missing'}) - not found in ElevenLabs`);\n      }\n    }\n    \n    // Combine valid ElevenLabs voices with VAPI voices (VAPI voices don't need validation)\n    const validVoices = [...validElevenLabsVoices, ...vapiVoices];\n    \n    if (removedVoices.length > 0) {\n      console.log(`[VOICE VALIDATION] Removed ${removedVoices.length} invalid voice(s) from library`);\n    } else {\n      console.log(`[VOICE VALIDATION] All ${validElevenLabsVoices.length} ElevenLabs voices are valid`);\n    }\n    \n    return { validVoices, removedVoices };\n  } catch (error) {\n    console.error('[VOICE VALIDATION] Error validating voices:', error);\n    // Fail-safe: return all voices if validation fails\n    return { validVoices: voices, removedVoices: [] };\n  }\n}\n\n/**\n * Get all curated voices\n */\nexport function getAllCuratedVoices(): CuratedVoice[] {\n  return curatedVoiceLibrary;\n}\n\n/**\n * Get curated voice by ID\n */\nexport function getCuratedVoiceById(id: string): CuratedVoice | undefined {\n  return curatedVoiceLibrary.find(voice => voice.id === id);\n}\n\n/**\n * Get curated voice by ElevenLabs voice ID\n */\nexport function getCuratedVoiceByElevenLabsId(elevenLabsVoiceId: string): CuratedVoice | undefined {\n  return curatedVoiceLibrary.find(voice => voice.elevenLabsVoiceId === elevenLabsVoiceId);\n}\n\n/**\n * Add a new curated voice to the library\n * Useful for adding voices created via Voice Design API\n */\nexport function addCuratedVoice(voice: CuratedVoice): void {\n  // Check if voice already exists\n  const existing = curatedVoiceLibrary.find(v => v.id === voice.id || v.elevenLabsVoiceId === voice.elevenLabsVoiceId);\n  if (existing) {\n    console.warn(`[VOICE LIBRARY] Voice ${voice.id} already exists, skipping`);\n    return;\n  }\n  \n  curatedVoiceLibrary.push(voice);\n  console.log(`[VOICE LIBRARY] Added new curated voice: ${voice.id} - ${voice.name}`);\n}\n\n/**\n * Filter curated voices by criteria\n */\nexport function filterCuratedVoices(filters: {\n  accent?: string;\n  gender?: 'male' | 'female' | 'neutral';\n  ageGroup?: 'young' | 'middle-aged' | 'older';\n  tags?: string[];\n  tone?: string[];\n}): CuratedVoice[] {\n  return curatedVoiceLibrary.filter(voice => {\n    if (filters.accent && voice.accent.toLowerCase() !== filters.accent.toLowerCase()) {\n      return false;\n    }\n    if (filters.gender && voice.gender !== filters.gender) {\n      return false;\n    }\n    if (filters.ageGroup && voice.ageGroup !== filters.ageGroup) {\n      return false;\n    }\n    if (filters.tags && filters.tags.length > 0) {\n      const hasTag = filters.tags.some(tag => \n        voice.tags.some(vTag => vTag.toLowerCase().includes(tag.toLowerCase()))\n      );\n      if (!hasTag) return false;\n    }\n    if (filters.tone && filters.tone.length > 0) {\n      const hasTone = filters.tone.some(t => \n        voice.tone.some(vTone => vTone.toLowerCase().includes(t.toLowerCase()))\n      );\n      if (!hasTone) return false;\n    }\n    return true;\n  });\n}\n\n", "/**\n * Helper to convert voice selection to VAPI voice configuration\n * Handles both ElevenLabs and VAPI native voices\n */\n\nimport { getElevenLabsMapping } from './voiceMapping';\nimport { getCuratedVoiceById, initializeVoiceLibrary, getAllCuratedVoices } from './voiceLibrary';\n\nexport interface VoiceConfig {\n  provider: '11labs' | 'vapi';\n  voiceId: string;\n}\n\n/**\n * Convert voice selection to VAPI voice configuration\n * @param voiceChoice - Voice ID from curated library (e.g., \"KM-ABC123\" or \"vapi-elliot\")\n * @returns Voice configuration for VAPI API\n */\nexport async function getVoiceConfigForVAPI(voiceChoice: string): Promise<VoiceConfig | undefined> {\n  if (!voiceChoice || typeof voiceChoice !== 'string' || !voiceChoice.trim()) {\n    return undefined;\n  }\n\n  const trimmedChoice = voiceChoice.trim();\n  \n  // Ensure voice library is initialized before looking up voices\n  let curatedVoices = getAllCuratedVoices();\n  if (curatedVoices.length === 0) {\n    curatedVoices = await initializeVoiceLibrary();\n  }\n  \n  // Check if it's a curated voice ID\n  const curatedVoice = getCuratedVoiceById(trimmedChoice);\n  \n  if (curatedVoice) {\n    // We have a curated voice - use its source\n    if (curatedVoice.source === 'elevenlabs' && curatedVoice.elevenLabsVoiceId) {\n      return {\n        provider: '11labs',\n        voiceId: curatedVoice.elevenLabsVoiceId,\n      };\n    } else if (curatedVoice.source === 'vapi' && curatedVoice.vapiVoiceId) {\n      return {\n        provider: 'vapi',\n        voiceId: curatedVoice.vapiVoiceId,\n      };\n    }\n  }\n  \n  // Fallback: Check if it's an ElevenLabs voice ID directly (starts with letters/numbers, no \"vapi-\" prefix)\n  // Or check if it's a VAPI voice name via mapping\n  const mapping = getElevenLabsMapping(trimmedChoice);\n  if (mapping?.elevenLabsVoiceId) {\n    return {\n      provider: '11labs',\n      voiceId: mapping.elevenLabsVoiceId,\n    };\n  }\n  \n  // IMPORTANT: Check for ElevenLabs ID BEFORE assuming it's a VAPI voice name\n  // ElevenLabs voice IDs are typically 17-20 characters, alphanumeric, no dashes\n  // VAPI voice names are short (usually < 15 chars) and may contain spaces/dashes\n  const isElevenLabsId = trimmedChoice.length >= 15 && \n                         trimmedChoice.length <= 25 && \n                         /^[a-zA-Z0-9]+$/.test(trimmedChoice) &&\n                         !trimmedChoice.includes('-') &&\n                         !trimmedChoice.includes(' ');\n                         \n  if (isElevenLabsId) {\n    return {\n      provider: '11labs',\n      voiceId: trimmedChoice,\n    };\n  }\n  \n  // If no mapping found and not an ElevenLabs ID, assume it's a VAPI voice name\n  // VAPI voice names are simple strings like \"Elliot\", \"Leah\", etc.\n  if (trimmedChoice.length > 0 && !trimmedChoice.includes('-')) {\n    return {\n      provider: 'vapi',\n      voiceId: trimmedChoice,\n    };\n  }\n  \n  // Unknown format - return undefined\n  console.warn('[VOICE CONFIG] Unknown voice choice format:', trimmedChoice);\n  return undefined;\n}\n\n\n\n\n\n"],
  "mappings": ";;;;;;;;;;;AAyFA,SAAS,oBAAoB,QAAe,YAAoB,KAAY;AAE1E,QAAM,kBAAkB,oBAAI,IAAiB;AAC7C,aAAW,SAAS,QAAQ;AAC1B,UAAM,UAAU,MAAM,YAAY,MAAM,MAAM,MAAM;AACpD,QAAI,SAAS;AAEX,YAAM,eAAe,OAAO,OAAO,EAAE,KAAK;AAC1C,UAAI,gBAAgB,CAAC,gBAAgB,IAAI,YAAY,GAAG;AACtD,wBAAgB,IAAI,cAAc,KAAK;AAAA,MACzC;AAAA,IACF;AAAA,EACF;AACA,QAAM,qBAAqB,MAAM,KAAK,gBAAgB,OAAO,CAAC;AAE9D,MAAI,mBAAmB,WAAW,OAAO,QAAQ;AAC/C,YAAQ,IAAI,4BAA4B,OAAO,SAAS,mBAAmB,MAAM,mBAAmB;AAAA,EACtG;AAEA,MAAI,mBAAmB,UAAU,WAAW;AAC1C,WAAO;AAAA,EACT;AAEA,UAAQ,IAAI,6BAA6B,SAAS,wBAAwB,mBAAmB,MAAM,mBAAmB;AAGtH,QAAM,WAAkC,EAAE,MAAM,CAAC,GAAG,QAAQ,CAAC,GAAG,SAAS,CAAC,EAAE;AAC5E,QAAM,WAAkC,CAAC;AACzC,QAAM,QAA+B,EAAE,OAAO,CAAC,GAAG,eAAe,CAAC,GAAG,OAAO,CAAC,EAAE;AAG/E,aAAW,SAAS,oBAAoB;AACtC,UAAM,UAAU,MAAM,QAAQ,UAAU,WAAW,YAAY;AAC/D,UAAM,SAAS,MAAM,QAAQ,UAAU;AACvC,UAAM,MAAM,MAAM,QAAQ,OAAO;AAGjC,QAAI,WAAW,OAAQ,UAAS,KAAK,KAAK,KAAK;AAAA,aACtC,WAAW,SAAU,UAAS,OAAO,KAAK,KAAK;AAAA,QACnD,UAAS,QAAQ,KAAK,KAAK;AAGhC,QAAI,CAAC,SAAS,MAAM,EAAG,UAAS,MAAM,IAAI,CAAC;AAC3C,aAAS,MAAM,EAAE,KAAK,KAAK;AAG3B,QAAI,IAAI,SAAS,OAAO,EAAG,OAAM,MAAM,KAAK,KAAK;AAAA,aACxC,IAAI,SAAS,KAAK,KAAK,IAAI,SAAS,OAAO,EAAG,OAAM,MAAM,KAAK,KAAK;AAAA,QACxE,OAAM,aAAa,EAAE,KAAK,KAAK;AAAA,EACtC;AAEA,QAAM,UAAiB,CAAC;AACxB,QAAM,OAAO,oBAAI,IAAY;AAG7B,QAAM,kBAAkB,KAAK,MAAM,YAAY,CAAC;AAChD,QAAM,eAAe,KAAK,MAAM,YAAY,CAAC;AAG7C,aAAW,UAAU,CAAC,QAAQ,UAAU,SAAS,GAAY;AAC3D,UAAM,YAAY,SAAS,MAAM,EAAE,OAAO,OAAK,CAAC,KAAK,IAAI,EAAE,QAAQ,CAAC;AACpE,UAAM,OAAO,KAAK,IAAI,iBAAiB,UAAU,MAAM;AAEvD,UAAM,WAAW,UAAU,KAAK,MAAM,KAAK,OAAO,IAAI,GAAG;AACzD,UAAM,WAAW,SAAS,MAAM,GAAG,IAAI;AACvC,aAAS,QAAQ,OAAK;AACpB,cAAQ,KAAK,CAAC;AACd,WAAK,IAAI,EAAE,QAAQ;AAAA,IACrB,CAAC;AAAA,EACH;AAGA,aAAW,OAAO,CAAC,SAAS,eAAe,OAAO,GAAY;AAC5D,UAAM,YAAY,MAAM,GAAG,EAAE,OAAO,OAAK,CAAC,KAAK,IAAI,EAAE,QAAQ,CAAC;AAC9D,UAAM,OAAO,KAAK,IAAI,cAAc,UAAU,MAAM;AACpD,UAAM,WAAW,UAAU,KAAK,MAAM,KAAK,OAAO,IAAI,GAAG;AACzD,UAAM,WAAW,SAAS,MAAM,GAAG,IAAI;AACvC,aAAS,QAAQ,OAAK;AACpB,UAAI,CAAC,KAAK,IAAI,EAAE,QAAQ,GAAG;AACzB,gBAAQ,KAAK,CAAC;AACd,aAAK,IAAI,EAAE,QAAQ;AAAA,MACrB;AAAA,IACF,CAAC;AAAA,EACH;AAGA,QAAM,UAAU,OAAO,KAAK,QAAQ,EAAE,KAAK;AAC3C,QAAM,iBAAiB,YAAY,QAAQ;AAC3C,QAAM,YAAY,KAAK,IAAI,GAAG,KAAK,MAAM,iBAAiB,KAAK,IAAI,GAAG,QAAQ,MAAM,CAAC,CAAC;AAEtF,aAAW,UAAU,SAAS;AAC5B,UAAM,YAAY,SAAS,MAAM,EAAE,OAAO,OAAK,CAAC,KAAK,IAAI,EAAE,QAAQ,CAAC;AACpE,QAAI,UAAU,SAAS,KAAK,QAAQ,SAAS,WAAW;AACtD,YAAM,OAAO,KAAK,IAAI,WAAW,UAAU,QAAQ,YAAY,QAAQ,MAAM;AAC7E,YAAM,WAAW,UAAU,KAAK,MAAM,KAAK,OAAO,IAAI,GAAG;AACzD,YAAM,WAAW,SAAS,MAAM,GAAG,IAAI;AACvC,eAAS,QAAQ,OAAK;AACpB,YAAI,CAAC,KAAK,IAAI,EAAE,QAAQ,KAAK,QAAQ,SAAS,WAAW;AACvD,kBAAQ,KAAK,CAAC;AACd,eAAK,IAAI,EAAE,QAAQ;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AAGA,QAAM,YAAY,YAAY,QAAQ;AACtC,MAAI,YAAY,GAAG;AACjB,UAAM,YAAY,mBAAmB,OAAO,OAAK,CAAC,KAAK,IAAI,EAAE,QAAQ,CAAC;AACtE,UAAM,WAAW,UAAU,KAAK,MAAM,KAAK,OAAO,IAAI,GAAG;AACzD,UAAM,SAAS,SAAS,MAAM,GAAG,SAAS;AAC1C,WAAO,QAAQ,OAAK;AAClB,UAAI,CAAC,KAAK,IAAI,EAAE,QAAQ,GAAG;AACzB,gBAAQ,KAAK,CAAC;AACd,aAAK,IAAI,EAAE,QAAQ;AAAA,MACrB;AAAA,IACF,CAAC;AAAA,EACH;AAGA,QAAM,WAAW,oBAAI,IAAiB;AACtC,aAAW,SAAS,SAAS;AAC3B,UAAM,UAAU,MAAM,YAAY,MAAM,MAAM,MAAM;AACpD,QAAI,SAAS;AAEX,YAAM,eAAe,OAAO,OAAO,EAAE,KAAK;AAC1C,UAAI,gBAAgB,CAAC,SAAS,IAAI,YAAY,GAAG;AAC/C,iBAAS,IAAI,cAAc,KAAK;AAAA,MAClC;AAAA,IACF;AAAA,EACF;AACA,QAAM,QAAQ,MAAM,KAAK,SAAS,OAAO,CAAC,EACvC,KAAK,MAAM,KAAK,OAAO,IAAI,GAAG,EAC9B,MAAM,GAAG,SAAS;AAErB,MAAI,MAAM,WAAW,QAAQ,QAAQ;AACnC,YAAQ,IAAI,4BAA4B,QAAQ,SAAS,MAAM,MAAM,kCAAkC;AAAA,EACzG;AAGA,QAAM,gBAAwC,EAAE,MAAM,GAAG,QAAQ,GAAG,SAAS,EAAE;AAC/E,QAAM,gBAAwC,CAAC;AAC/C,QAAM,aAAqC,EAAE,OAAO,GAAG,eAAe,GAAG,OAAO,EAAE;AAElF,aAAW,SAAS,OAAO;AACzB,UAAM,UAAU,MAAM,QAAQ,UAAU,WAAW,YAAY;AAC/D,UAAM,SAAS,MAAM,QAAQ,UAAU;AACvC,UAAM,MAAM,MAAM,QAAQ,OAAO;AAEjC,QAAI,WAAW,OAAQ,eAAc;AAAA,aAC5B,WAAW,SAAU,eAAc;AAAA,QACvC,eAAc;AAEnB,kBAAc,MAAM,KAAK,cAAc,MAAM,KAAK,KAAK;AAEvD,QAAI,IAAI,SAAS,OAAO,EAAG,YAAW;AAAA,aAC7B,IAAI,SAAS,KAAK,KAAK,IAAI,SAAS,OAAO,EAAG,YAAW;AAAA,QAC7D,YAAW,aAAa;AAAA,EAC/B;AAEA,UAAQ,IAAI,4BAA4B,MAAM,MAAM,yBAAyB;AAC7E,UAAQ,IAAI,8BAA8B,cAAc,IAAI,UAAU,cAAc,MAAM,YAAY,cAAc,OAAO,UAAU;AACrI,UAAQ,IAAI,2BAA2B,WAAW,KAAK,WAAW,WAAW,aAAa,CAAC,iBAAiB,WAAW,KAAK,QAAQ;AACpI,UAAQ,IAAI,+BAA+B,OAAO,KAAK,aAAa,EAAE,MAAM,oBAAoB;AAEhG,SAAO;AACT;AAMA,eAAsB,yBAAkD;AAEtE,QAAM,EAAE,iBAAiB,IAAI,MAAM,OAAO,2BAAc;AACxD,QAAM,aAAa,iBAAiB;AAGpC,QAAM,oBAAoC,WAAW,IAAI,gBAAc;AAAA,IACrE,IAAI,UAAU;AAAA,IACd,MAAM,UAAU;AAAA,IAChB,aAAa,UAAU;AAAA,IACvB,QAAQ;AAAA,IACR,MAAM,UAAU;AAAA,IAChB,QAAQ,UAAU;AAAA,IAClB,QAAQ,UAAU;AAAA,IAClB,UAAU,UAAU;AAAA,IACpB,MAAM,UAAU;AAAA;AAAA,IAChB,aAAa,UAAU;AAAA,IACvB,UAAU,CAAC,SAAS;AAAA,IACpB,WAAW,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA,IACpG,SAAS;AAAA;AAAA,EACX,EAAE;AAGF,MAAI,6BAA0C,oBAAI,IAAI;AACtD,MAAI;AACF,UAAM,EAAE,2BAA2B,IAAI,MAAM,OAAO,qCAAwB;AAC5E,UAAM,iBAAiB,2BAA2B;AAClD,iCAA6B,IAAI,IAAI,eAAe,IAAI,OAAK,EAAE,OAAO,CAAC;AACvE,YAAQ,IAAI,0BAA0B,eAAe,MAAM,iEAAiE;AAAA,EAC9H,SAAS,OAAO;AACd,YAAQ,KAAK,uHAAuH;AACpI,YAAQ,KAAK,yFAAyF;AAAA,EACxG;AAEA,QAAM,SAAS,QAAQ,IAAI;AAE3B,MAAI,CAAC,QAAQ;AACX,YAAQ,KAAK,mEAAmE;AAChF,WAAO,CAAC;AAAA,EACV;AAEA,MAAI;AAGF,QAAI,sBAA6B,CAAC;AAClC,QAAI,sBAA6B,CAAC;AAClC,QAAI,OAAO;AACX,QAAI,UAAU;AACd,UAAM,WAAW;AACjB,UAAM,sBAAsB;AAC5B,UAAM,YAAY;AAElB,YAAQ,IAAI,yGAAyG;AAErH,WAAO,WAAW,QAAQ,WAAW;AACnC,YAAM,WAAW,MAAM,MAAM,4CAA4C,IAAI,cAAc,QAAQ,IAAI;AAAA,QACrG,SAAS,EAAE,cAAc,OAAO;AAAA,MAClC,CAAC;AAED,UAAI,CAAC,SAAS,IAAI;AAChB,YAAI,SAAS,GAAG;AACd,kBAAQ,MAAM,wDAAwD;AACtE,iBAAO,CAAC;AAAA,QACV,OAAO;AAEL,kBAAQ,IAAI,qDAAqD,IAAI,EAAE;AACvE;AAAA,QACF;AAAA,MACF;AAEA,YAAM,OAAO,MAAM,SAAS,KAAK;AACjC,YAAM,SAAS,KAAK,UAAU,CAAC;AAE/B,UAAI,OAAO,WAAW,GAAG;AACvB,kBAAU;AAAA,MACZ,OAAO;AACL,4BAAoB,KAAK,GAAG,MAAM;AAGlC,YAAI,2BAA2B,OAAO,GAAG;AACvC,gBAAM,iBAAiB,OAAO,OAAO,CAAC,UAAe,2BAA2B,IAAI,MAAM,QAAQ,CAAC;AACnG,8BAAoB,KAAK,GAAG,cAAc;AAAA,QAC5C,OAAO;AAEL,8BAAoB,KAAK,GAAG,MAAM;AAAA,QACpC;AAEA,gBAAQ,IAAI,wBAAwB,IAAI,KAAK,OAAO,MAAM,YAAY,oBAAoB,MAAM,mBAAmB;AAGnH,YAAI,oBAAoB,UAAU,uBAAuB,QAAQ,IAAI;AACnE,kBAAQ,IAAI,qCAAqC,mBAAmB,0BAA0B,IAAI,yBAAyB;AAC3H,oBAAU;AACV;AAAA,QACF;AAGA,YAAI,KAAK,aAAa,SAAS,OAAO,SAAS,UAAU;AACvD,oBAAU;AAAA,QACZ,OAAO;AACL;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEA,YAAQ,IAAI,yDAAyD,oBAAoB,MAAM,EAAE;AACjG,YAAQ,IAAI,gDAAgD,oBAAoB,MAAM,EAAE;AAIxF,UAAM,kBAAkB,2BAA2B,OAAO,IACtD,sBACA;AAEJ,QAAI,2BAA2B,OAAO,GAAG;AACvC,cAAQ,IAAI,yBAAyB,gBAAgB,MAAM,6CAA6C,oBAAoB,MAAM,SAAS;AAAA,IAC7I,OAAO;AACL,cAAQ,IAAI,yBAAyB,gBAAgB,MAAM,6CAA6C;AAAA,IAC1G;AAIA,UAAM,aAAa;AACnB,UAAM,gBAAgB,oBAAoB,iBAAiB,UAAU;AACrE,YAAQ,IAAI,2BAA2B,cAAc,MAAM,wBAAwB,gBAAgB,MAAM,kBAAkB;AAE3H,UAAM,wBAAwB,cAAc,OAAO,CAAC,UAAe;AACjE,YAAM,UAAU,MAAM,YAAY,MAAM,MAAM,MAAM;AACpD,aAAO,UAAU,CAAC,iCAAiC,IAAI,OAAO,OAAO,EAAE,KAAK,CAAC,IAAI;AAAA,IACnF,CAAC;AAED,QAAI,sBAAsB,WAAW,cAAc,QAAQ;AACzD,cAAQ;AAAA,QACN,2BAA2B,cAAc,SAAS,sBAAsB,MAAM;AAAA,MAChF;AAAA,IACF;AAGA,UAAM,eAA+B,sBAAsB,IAAI,CAAC,UAAe;AAC7E,YAAM,UAAU,MAAM,QAAQ,UAAU,IAAI,YAAY;AACxD,YAAM,SAAS,MAAM,QAAQ,UAAU;AACvC,YAAM,MAAM,MAAM,QAAQ,OAAO;AAGjC,UAAI,WAA8C;AAClD,UAAI,IAAI,SAAS,OAAO,EAAG,YAAW;AAAA,eAC7B,IAAI,SAAS,KAAK,KAAK,IAAI,SAAS,OAAO,EAAG,YAAW;AAGlE,UAAI,CAAC,OAAO,IAAI,KAAK,MAAM,IAAI;AAC7B,cAAMA,cAAa,MAAM,eAAe,IAAI,YAAY;AACxD,cAAMC,cAAa,MAAM,QAAQ,IAAI,YAAY;AAEjD,YAAID,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,KAAK,KACrFA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,UAAU,KACzFA,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,SAAS,KAC1FA,WAAU,SAAS,SAAS,GAAG;AACjC,qBAAW;AAAA,QACb,WAAWA,WAAU,SAAS,YAAY,KAAKA,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,KAAK,KAC3FA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,KAAK,KAAKA,WAAU,SAAS,MAAM,KACpFA,WAAU,SAAS,aAAa,KAAKA,WAAU,SAAS,YAAY,GAAG;AAChF,qBAAW;AAAA,QACb,WAAWA,WAAU,SAAS,QAAQ,KAAKA,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,KAAK,KACvFA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,KAAK,KAAKA,WAAU,SAAS,MAAM,KACpFA,WAAU,SAAS,KAAK,KAAKA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,OAAO,KACrFA,WAAU,SAAS,KAAK,KAAKA,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,QAAQ,KACvFA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,SAAS,KAAKA,WAAU,SAAS,SAAS,KAC3FA,WAAU,SAAS,SAAS,GAAG;AACxC,qBAAW;AAAA,QACb,WAESC,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,MAAM,KAAKA,WAAU,SAAS,OAAO,GAAG;AACjG,qBAAW;AAAA,QACb,WAAWA,WAAU,SAAS,KAAK,KAAKA,WAAU,SAAS,OAAO,KAAKA,WAAU,SAAS,QAAQ,KACvFA,WAAU,SAAS,SAAS,KAAKA,WAAU,SAAS,SAAS,GAAG;AACzE,qBAAW;AAAA,QACb;AAAA,MACF;AAGA,YAAM,aAAa,MAAM,QAAQ,IAAI,YAAY;AACjD,YAAM,aAAa,MAAM,eAAe,IAAI,YAAY;AACxD,YAAM,WAAW,GAAG,SAAS,IAAI,SAAS;AAE1C,YAAM,OAAiB,CAAC;AACxB,YAAM,OAAiB,CAAC;AACxB,YAAM,WAAqB,CAAC;AAI5B,UAAI,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,aAAa,KAAK,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,UAAU,EAAG,MAAK,KAAK,MAAM;AACjJ,UAAI,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,QAAQ,EAAG,MAAK,KAAK,OAAO;AAC5M,UAAI,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,SAAS,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,QAAQ,EAAG,MAAK,KAAK,MAAM;AAC/I,UAAI,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,MAAM,EAAG,MAAK,KAAK,MAAM;AAC3G,UAAI,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,OAAO,EAAG,MAAK,KAAK,QAAQ;AAC7I,UAAI,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,QAAQ,EAAG,MAAK,KAAK,QAAQ;AACrJ,UAAI,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,SAAS,EAAG,MAAK,KAAK,QAAQ;AACpH,UAAI,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,QAAQ,EAAG,MAAK,KAAK,MAAM;AAC9E,UAAI,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,EAAG,MAAK,KAAK,UAAU;AAIvH,UAAI,SAAS,SAAS,cAAc,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,UAAU,EAAG,MAAK,KAAK,cAAc;AACnK,UAAI,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,MAAM,EAAG,MAAK,KAAK,UAAU;AACnJ,UAAI,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,eAAe,KAAK,SAAS,SAAS,SAAS,KAAK,SAAS,SAAS,UAAU,EAAG,MAAK,KAAK,WAAW;AAChK,UAAI,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,SAAS,KAAK,SAAS,SAAS,cAAc,EAAG,MAAK,KAAK,WAAW;AAC9L,UAAI,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,SAAS,EAAG,MAAK,KAAK,MAAM;AAChL,UAAI,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,EAAG,MAAK,KAAK,OAAO;AAC9I,UAAI,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,OAAO,EAAG,MAAK,KAAK,OAAO;AAC/I,UAAI,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,QAAQ,EAAG,MAAK,KAAK,QAAQ;AAClF,UAAI,SAAS,SAAS,QAAQ,KAAK,SAAS,SAAS,UAAU,EAAG,MAAK,KAAK,QAAQ;AAGpF,UAAI,SAAS,SAAS,KAAK,KAAK,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,OAAO,KACnF,SAAS,SAAS,YAAY,KAAK,SAAS,SAAS,SAAS,GAAG;AACnE,aAAK,KAAK,OAAO;AAAA,MACnB;AAGA,YAAM,mBAAmB;AACzB,YAAM,iBAAiB,SAAS,MAAM,gBAAgB;AACtD,UAAI,gBAAgB;AAClB,YAAI,YAAY,eAAe,CAAC,EAAE,YAAY;AAE9C,YAAI,UAAU,SAAS,MAAM,KAAK,UAAU,SAAS,UAAU,GAAG;AAChE,sBAAY;AAAA,QACd;AACA,aAAK,KAAK,SAAS;AAAA,MACrB;AAGA,UAAI,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,MAAM,KAAK,SAAS,SAAS,WAAW,GAAG;AAC7F,aAAK,KAAK,OAAO;AACjB,iBAAS,KAAK,YAAY;AAAA,MAC5B;AACA,UAAI,SAAS,SAAS,SAAS,KAAK,SAAS,SAAS,YAAY,GAAG;AACnE,iBAAS,KAAK,SAAS;AACvB,YAAI,CAAC,KAAK,SAAS,WAAW,EAAG,MAAK,KAAK,WAAW;AAAA,MACxD;AACA,UAAI,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,WAAW,GAAG;AACrG,iBAAS,KAAK,WAAW;AACzB,YAAI,CAAC,KAAK,SAAS,UAAU,EAAG,MAAK,KAAK,UAAU;AAAA,MACtD;AACA,UAAI,SAAS,SAAS,gBAAgB,KAAK,SAAS,SAAS,cAAc,GAAG;AAC5E,iBAAS,KAAK,gBAAgB;AAAA,MAChC;AACA,UAAI,SAAS,SAAS,OAAO,KAAK,SAAS,SAAS,UAAU,KAAK,SAAS,SAAS,MAAM,GAAG;AAC5F,YAAI,CAAC,KAAK,SAAS,UAAU,EAAG,MAAK,KAAK,UAAU;AACpD,iBAAS,KAAK,OAAO;AAAA,MACvB;AAIA,YAAM,kBAAkB,MAAM,cAC1B,GAAG,MAAM,IAAI,IAAI,MAAM,WAAW,GAAG,KAAK,IAC1C,GAAG,MAAM,IAAI,MAAM,SAAS,SAAS,MAAM,EAAE,GAAG,MAAM;AAE1D,aAAO;AAAA,QACL,IAAI,MAAM,MAAM,SAAS,UAAU,GAAG,CAAC,EAAE,YAAY,CAAC;AAAA,QACtD,MAAM,MAAM,QAAQ;AAAA,QACpB,mBAAmB,MAAM;AAAA,QACzB,QAAQ;AAAA,QACR,MAAM,KAAK,SAAS,IAAI,OAAO,CAAC,SAAS;AAAA,QACzC,QAAQ,UAAU;AAAA,QAClB,QAAQ,WAAW,SAAS,SAAS,WAAW,WAAW,WAAW;AAAA,QACtE;AAAA,QACA,MAAM,KAAK,SAAS,IAAI,OAAO,CAAC,SAAS;AAAA,QACzC,aAAa;AAAA;AAAA,QACb,UAAU,SAAS,SAAS,IAAI,WAAW,CAAC,SAAS;AAAA,QACrD,WAAW,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAAA;AAAA,QACpG,SAAS;AAAA;AAAA,MACX;AAAA,IACF,CAAC;AAGD,UAAM,YAAY,CAAC,GAAG,cAAc,GAAG,iBAAiB;AAGxD,UAAM,kBAAkB,oBAAI,IAA0B;AACtD,eAAW,SAAS,WAAW;AAC7B,YAAM,UAAU,MAAM,qBAAqB,MAAM,eAAe,MAAM;AACtE,UAAI,WAAW,CAAC,gBAAgB,IAAI,OAAO,GAAG;AAC5C,wBAAgB,IAAI,SAAS,KAAK;AAAA,MACpC;AAAA,IACF;AACA,UAAM,qBAAqB,MAAM,KAAK,gBAAgB,OAAO,CAAC;AAE9D,QAAI,mBAAmB,WAAW,UAAU,QAAQ;AAClD,cAAQ,IAAI,2BAA2B,UAAU,SAAS,mBAAmB,MAAM,qCAAqC;AAAA,IAC1H;AAGA,UAAM,EAAE,aAAa,cAAc,IAAI,MAAM,gCAAgC,kBAAkB;AAG/F,UAAM,iBAAiB,oBAAI,IAA0B;AACrD,eAAW,SAAS,aAAa;AAC/B,YAAM,UAAU,MAAM,qBAAqB,MAAM,eAAe,MAAM;AACtE,UAAI,WAAW,CAAC,eAAe,IAAI,OAAO,GAAG;AAC3C,uBAAe,IAAI,SAAS,KAAK;AAAA,MACnC;AAAA,IACF;AACA,UAAM,oBAAoB,MAAM,KAAK,eAAe,OAAO,CAAC;AAE5D,QAAI,kBAAkB,WAAW,YAAY,QAAQ;AACnD,cAAQ,IAAI,2BAA2B,YAAY,SAAS,kBAAkB,MAAM,oCAAoC;AAAA,IAC1H;AAGA,wBAAoB,SAAS;AAC7B,wBAAoB,KAAK,GAAG,iBAAiB;AAG7C,UAAM,wBAAwB,YAAY,OAAO,OAAK,EAAE,WAAW,YAAY;AAC/E,UAAM,kBAAkB,sBAAsB;AAC9C,UAAM,YAAY,YAAY,OAAO,OAAK,EAAE,WAAW,MAAM,EAAE;AAC/D,UAAM,aAAa,oBAAoB;AACvC,UAAM,iBAAiB,sBAAsB,OAAO,OAAK,EAAE,QAAQ,EAAE,KAAK,SAAS,KAAK,EAAE,KAAK,CAAC,MAAM,SAAS,EAAE;AAEjH,YAAQ,IAAI,oCAAoC,eAAe,0BAA0B,SAAS,wBAAwB,UAAU,GAAG;AACvI,QAAI,cAAc,SAAS,GAAG;AAC5B,cAAQ,KAAK,2BAA2B,cAAc,MAAM,yCAAyC;AAAA,IACvG;AACA,YAAQ,IAAI,yCAAyC,eAAe,+BAA+B,SAAS,kBAAkB;AAC9H,YAAQ,IAAI,6DAA6D,cAAc,WAAW,eAAe,oBAAoB;AAGrI,QAAI,kBAAkB,KAAK;AACzB,cAAQ,KAAK,iCAAiC,eAAe,kDAAkD;AAAA,IACjH,OAAO;AACL,cAAQ,IAAI,yCAAyC,eAAe,8BAA8B;AAAA,IACpG;AAEA,WAAO;AAAA,EACT,SAAS,OAAO;AACd,YAAQ,MAAM,+CAA+C,KAAK;AAClE,WAAO,CAAC;AAAA,EACV;AACF;AAOA,eAAsB,gCACpB,QACmE;AACnE,QAAM,SAAS,QAAQ,IAAI;AAE3B,MAAI,CAAC,QAAQ;AACX,YAAQ,KAAK,sEAAsE;AACnF,WAAO,EAAE,aAAa,QAAQ,eAAe,CAAC,EAAE;AAAA,EAClD;AAEA,MAAI;AAEF,UAAM,WAAW,MAAM,MAAM,uCAAuC;AAAA,MAClE,SAAS,EAAE,cAAc,OAAO;AAAA,IAClC,CAAC;AAED,QAAI,CAAC,SAAS,IAAI;AAChB,cAAQ,KAAK,gFAAgF;AAC7F,aAAO,EAAE,aAAa,QAAQ,eAAe,CAAC,EAAE;AAAA,IAClD;AAEA,UAAM,OAAO,MAAM,SAAS,KAAK;AACjC,UAAM,mBAAmB,KAAK,UAAU,CAAC;AAGzC,UAAM,gBAAgB,IAAI;AAAA,MACxB,iBAAiB,IAAI,CAAC,MAAW,EAAE,QAAQ;AAAA,IAC7C;AAGA,UAAM,6BAA6B,OAAO,OAAO,OAAK,EAAE,WAAW,gBAAgB,EAAE,iBAAiB;AACtG,UAAM,aAAa,OAAO,OAAO,OAAK,EAAE,WAAW,MAAM;AAGzD,UAAM,wBAAwC,CAAC;AAC/C,UAAM,gBAA0B,CAAC;AAEjC,eAAW,SAAS,4BAA4B;AAC9C,UAAI,MAAM,qBAAqB,cAAc,IAAI,MAAM,iBAAiB,GAAG;AACzE,8BAAsB,KAAK,KAAK;AAAA,MAClC,OAAO;AACL,sBAAc,KAAK,GAAG,MAAM,IAAI,KAAK,MAAM,EAAE,GAAG;AAChD,gBAAQ,KAAK,qCAAqC,MAAM,IAAI,SAAS,MAAM,qBAAqB,SAAS,6BAA6B;AAAA,MACxI;AAAA,IACF;AAGA,UAAM,cAAc,CAAC,GAAG,uBAAuB,GAAG,UAAU;AAE5D,QAAI,cAAc,SAAS,GAAG;AAC5B,cAAQ,IAAI,8BAA8B,cAAc,MAAM,gCAAgC;AAAA,IAChG,OAAO;AACL,cAAQ,IAAI,0BAA0B,sBAAsB,MAAM,8BAA8B;AAAA,IAClG;AAEA,WAAO,EAAE,aAAa,cAAc;AAAA,EACtC,SAAS,OAAO;AACd,YAAQ,MAAM,+CAA+C,KAAK;AAElE,WAAO,EAAE,aAAa,QAAQ,eAAe,CAAC,EAAE;AAAA,EAClD;AACF;AAKO,SAAS,sBAAsC;AACpD,SAAO;AACT;AAKO,SAAS,oBAAoB,IAAsC;AACxE,SAAO,oBAAoB,KAAK,WAAS,MAAM,OAAO,EAAE;AAC1D;AAzqBA,IA6Ba,qBASP;AAtCN;AAAA;AAAA;AAAA;AA6BO,IAAM,sBAAsC;AAAA;AAAA;AAAA,IAGnD;AAMA,IAAM,mCAAmC,oBAAI,IAAY;AAAA,MACvD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAQQ;AA4Ka;AAyVA;AAkEN;AAOA;AAAA;AAAA;;;ACrpBhB,eAAsB,sBAAsB,aAAuD;AACjG,MAAI,CAAC,eAAe,OAAO,gBAAgB,YAAY,CAAC,YAAY,KAAK,GAAG;AAC1E,WAAO;AAAA,EACT;AAEA,QAAM,gBAAgB,YAAY,KAAK;AAGvC,MAAI,gBAAgB,oBAAoB;AACxC,MAAI,cAAc,WAAW,GAAG;AAC9B,oBAAgB,MAAM,uBAAuB;AAAA,EAC/C;AAGA,QAAM,eAAe,oBAAoB,aAAa;AAEtD,MAAI,cAAc;AAEhB,QAAI,aAAa,WAAW,gBAAgB,aAAa,mBAAmB;AAC1E,aAAO;AAAA,QACL,UAAU;AAAA,QACV,SAAS,aAAa;AAAA,MACxB;AAAA,IACF,WAAW,aAAa,WAAW,UAAU,aAAa,aAAa;AACrE,aAAO;AAAA,QACL,UAAU;AAAA,QACV,SAAS,aAAa;AAAA,MACxB;AAAA,IACF;AAAA,EACF;AAIA,QAAM,UAAU,qBAAqB,aAAa;AAClD,MAAI,SAAS,mBAAmB;AAC9B,WAAO;AAAA,MACL,UAAU;AAAA,MACV,SAAS,QAAQ;AAAA,IACnB;AAAA,EACF;AAKA,QAAM,iBAAiB,cAAc,UAAU,MACxB,cAAc,UAAU,MACxB,iBAAiB,KAAK,aAAa,KACnC,CAAC,cAAc,SAAS,GAAG,KAC3B,CAAC,cAAc,SAAS,GAAG;AAElD,MAAI,gBAAgB;AAClB,WAAO;AAAA,MACL,UAAU;AAAA,MACV,SAAS;AAAA,IACX;AAAA,EACF;AAIA,MAAI,cAAc,SAAS,KAAK,CAAC,cAAc,SAAS,GAAG,GAAG;AAC5D,WAAO;AAAA,MACL,UAAU;AAAA,MACV,SAAS;AAAA,IACX;AAAA,EACF;AAGA,UAAQ,KAAK,+CAA+C,aAAa;AACzE,SAAO;AACT;AAvFA;AAAA;AAAA;AAKA;AACA;AAYsB;AAAA;AAAA;",
  "names": ["descLower", "nameLower"]
}
